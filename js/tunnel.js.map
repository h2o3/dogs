{"version":3,"file":"tunnel.js","sourceRoot":"","sources":["../src/tunnel.ts"],"names":["Transport","createServer","connect","TunnelServer","TunnelServer.constructor","TunnelServer.initTransport","TunnelServer.listen","TunnelServer.handleClient","TunnelClient","TunnelClient.constructor","TunnelClient.listen","TunnelClient.handShake","TunnelClient.bindTransport","TunnelClient.handleClient"],"mappings":"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"}