{"version":3,"file":"tunnel.js","sourceRoot":"","sources":["../src/tunnel.ts"],"names":["Transport","createServer","connect","TunnelServer","TunnelServer.constructor","TunnelServer.initTransport","TunnelServer.listen","TunnelServer.handShake","TunnelServer.handleClient","TunnelClient","TunnelClient.constructor","TunnelClient.listen","TunnelClient.handShake","TunnelClient.bindTransport","TunnelClient.handleClient"],"mappings":"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"}